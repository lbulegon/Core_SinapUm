services:
  mcp_service:
    build: .
    container_name: mcp_sinapum_mcp_service
    ports:
      - "7010:7010"
    environment:
      # URLs - Como cada serviço roda em docker-compose separado,
      # usar IP do host ou container_name se estiverem na mesma rede
      # Padrão: IP do host (69.169.102.84)
      # Alternativa: container_name se estiverem na mesma rede Docker
      - SINAPUM_CORE_URL=${SINAPUM_CORE_URL:-http://69.169.102.84:5000}
      - OPENMIND_SERVICE_URL=${OPENMIND_SERVICE_URL:-http://69.169.102.84:8001}
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:7010/health"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 20s

